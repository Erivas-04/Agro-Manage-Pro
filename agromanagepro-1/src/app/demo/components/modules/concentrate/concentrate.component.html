<div class="grid">
    <div class="md:col-12 col-12">
        <div class="card">
            <h2>Concentrados</h2>
            <div class="col-12">
                <p-dialog header="Crear concentrado" [(visible)]="display" [modal]="true" showEffect="fade" [breakpoints]="{'960px': '75vw'}" [style]="{width: '20vw'}">
                    <app-create-concentrate (close)="closeDialog($event)"/>
                </p-dialog>
                <button (click)="display=true" icon="pi pi-plus" label="Crear concentrado" type="button" pButton pRipple class="p-button-success button"></button>
    
            </div>
            <p-table [value]="concentrateList" responsiveLayout="scroll" scrollDirection="both" [scrollable]="true" scrollHeight="400px" [paginator]="true" [rows]="20" >
                <ng-template pTemplate="header">
                    <tr>
                        <th pSortableColumn="concentrate_name">Concentrado<p-sortIcon field="concentrate_name"></p-sortIcon></th>
                        <th>Habilitado</th>
                        <th>Modificar</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-concentrate>
                    <tr>
                        <td class="rows">{{concentrate.concentrate_name}}</td>
                        <td class="rows">
                            @if (concentrate.hability) {
                                <i class="pi pi-check"></i>
                            }
                            @else {
                                <i class="pi pi-times"></i>
                            }
                        </td>
                        <td class="rows">
                            <p-dialog header="Modificar concentrado" [(visible)]="displayU" [modal]="true" showEffect="fade" [breakpoints]="{'960px': '75vw'}" [style]="{width: '20vw'}">
                                @if (displayU) {
                                    <app-update-concentrate [concentrate]="concentrateSelect" (close)="closeDialog($event)"/>
                                }
                            </p-dialog>
                            <i (click)="updateDialog(concentrate)" class="pi pi-wrench"></i>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
            <p-toast key="create"></p-toast>
        </div>
    </div>
</div>
<div class="grid">
    <div class="col-12 md:col-12">
        <div class="card">
            <h2>Listado de animales</h2>
            <div class="col-12">
                <p-dialog header="Agregar animal" [(visible)]="display" [modal]="true" showEffect="fade" [breakpoints]="{'960px': '75vw'}" [style]="{width: '20vw'}">
                    <app-create-animal (close)="closeDialog()"/>
                </p-dialog>
                <button (click)="display=true" icon="pi pi-plus" label="Agregar animal" type="button" pButton pRipple class="p-button-success button"></button>
            </div>
            <p-table [value]="animalList" responsiveLayout="scroll" scrollDirection="both" [scrollable]="true" scrollHeight="400px" [paginator]="true" [rows]="20" responsiveLayout="scroll"> 
                <ng-template pTemplate="header" >
                    <tr>
                        <th pSortableColumn="animal_name">Nombre<p-sortIcon field="animal_name"></p-sortIcon></th>
                        <th>Habilitado</th>
                        <th>Modificar</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-animal>
                    <tr>
                        <td class="rows">{{animal.animal_name}}</td>
                        <td class="rows">
                            @if (animal.hability) {
                                <i class="pi pi-check"></i>
                            }
                            @else {
                                <i class="pi pi-times"></i>
                            }
                        </td>
                        <td class="rows">
                            <p-dialog header="Modificar animal" [(visible)]="displayU" [modal]="true" showEffect="fade" [breakpoints]="{'960px': '75vw'}" [style]="{width: '20vw'}">
                                @if(displayU) {
                                    <app-update-animal (close)="closeDialog($event)" [animal]="animalSelect"/>
                                }
                            </p-dialog>
                            <i class="pi pi-wrench" (click)="updateAnimal(animal)"></i>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        <p-toast key="update"></p-toast>
        <p-toast key="create"></p-toast>
    </div>
    </div>
</div>